language: php

php:
  - 7.1
  - 7.2

env:
  - DRUPAL=^8.5
  - DRUPAL=8.5.x-dev
  - DRUPAL=8.6.x-dev

script:
  # items for phpcs
  - composer global require drupal/coder ^8.2@stable
  - export PATH="$PATH:$HOME/.composer/vendor/bin"
  - phpcs --config-set installed_paths ~/.composer/vendor/drupal/coder/coder_sniffer
  - phpcs -i
  # add composer's global bin directory to the path
  # see: https://github.com/drush-ops/drush#install---composer
  - export PATH="`composer global config bin-dir --absolute`:$PATH"
  # debug
  - composer global config bin-dir --absolute
  - phpcs --standard=Drupal .
